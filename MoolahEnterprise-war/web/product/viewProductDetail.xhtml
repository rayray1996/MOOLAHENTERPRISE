<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../template/defaultTemplate.xhtml"
                xmlns:p="http://primefaces.org/ui"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:ezcomp="http://xmlns.jcp.org/jsf/composite/ezcomp">


    <ui:define name="content">

        <h1 style="font-size: 18px">
            About the Product
        </h1>

        <p:graphicImage library="images" name="#{viewProductDetailManagedBean.productToView.productEntity.company.companyImage}" height="400" width="400 " 
                        alt="AIA Insurance" style="margin-left: auto; margin-right: auto;"/>

        <div class="card">
            <h5 class="p-mt-0">Default</h5>
            <p:tabView>
                <p:tab title="Product Details">
                    <p:panelGrid columns="2" columnClasses="" style="margin-left: 5%; width: 60%; noBorders">
                        <p:column >
                            <p:outputLabel value="Company Name: "/>
                        </p:column>
                        <p:column>
                            <h:outputText value="#{viewProductDetailManagedBean.productToView.productEntity.company.companyName}"/>
                        </p:column>

                        <p:column>
                            <p:outputLabel value="Product Name"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="#{viewProductDetailManagedBean.productToView.productEntity.productName}"/>
                        </p:column>

                        <p:column>
                            <p:outputLabel value="Product Category"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="#{viewProductDetailManagedBean.productToView.stringParentCategory}"/>
                        </p:column>

                        <p:column>
                            <p:outputLabel value="Product Type"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="#{viewProductDetailManagedBean.productToView.stringChildCategory}"/>
                        </p:column>

                        <p:column>
                            <p:outputLabel value="Average Interest Rate"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="#{viewProductDetailManagedBean.productToView.productEntity.averageInterestRate}"/>
                            <p:commandButton style="float: right;" icon="ui-icon-help" onclick="PF('interestRate').show()"/>
                        </p:column>
                    </p:panelGrid>
                </p:tab>
                <p:tab title="Coverage">
                    <p:panelGrid columns="2" columnClasses=""  style="margin-left: 5%; width: 30%; noBorders">
                        <p:column>
                            <p:outputLabel value="Coverage Term: "/>
                        </p:column>
                        <p:column>
                            <h:outputText value="#{viewProductDetailManagedBean.productToView.productEntity.coverageTerm}"/>
                        </p:column>

                        <p:column>
                            <p:outputLabel value="Minimum Sum Assured:"/>
                        </p:column>
                        <p:column>
                            <h:outputText value="#{viewProductDetailManagedBean.productToView.productEntity.assuredSum}"/>
                        </p:column>
                    </p:panelGrid>
                </p:tab>
                <p:tab title="Premiums For Product">
                    <p style="font-weight: bold; font-size: 14px"> Premium for Product: #{viewProductDetailManagedBean.product.productName}</p>
                    <p:dataTable id="productPremiumTable" widgetVar="productPremiumTable" value="#{viewProductDetailManagedBean.productToView.productEntity.listOfPremium}" 
                                 var="premium" rowKey="#{premium.premiumId}" style="width:80%; padding-left: 5%">
                        <p:column headerText="S/N" sortBy="#{premium.premiumId}" filterBy="#{premium.premiumId}" filterMatchMode="contains">
                            <h:outputText value="#{premium.premiumId}"/>
                        </p:column>
                        <p:column headerText="Min Age Group" sortBy="#{premium.minAgeGroup}" filterBy="#{premium.minAgeGroup}" filterMatchMode="contains">
                            <h:outputText value="#{premium.minAgeGroup}" />
                        </p:column>

                        <p:column headerText="Max Age Group" sortBy="#{premium.maxAgeGroup}" filterBy="#{premium.maxAgeGroup}" filterMatchMode="contains">
                            <h:outputText value="#{premium.maxAgeGroup}" />
                        </p:column>                            

                        <p:column headerText="Premium Price" sortBy="#{premium.premiumValue}" filterBy="#{premium.premiumValue}" filterMatchMode="contains">
                            <h:outputText value="#{premium.premiumValue}" />
                        </p:column>
                    </p:dataTable>
                </p:tab>
            </p:tabView>
        </div>









        <p:dataTable id="productRider" widgetVar="productRider" value="#{viewProductDetailManagedBean.productToView.productEntity.listOfRiders}" var="rider" rowKey="#{rider.riderId}" rowIndexVar="rowIndex">
            <p:column headerText="No" sortBy="#{rowIndex}" filterBy="#{rowIndex}" filterMatchMode="contains">
                <h:outputText value="#{rowIndex+1}" />
            </p:column>

            <p:column headerText="Name" sortBy="#{rider.riderName}" filterBy="#{rider.riderName}" filterMatchMode="contains">
                <h:outputText value="#{rider.riderName}" />
            </p:column>                            

            <p:column headerText="Description">
                <h:outputText value="#{rider.riderDescription}" />
            </p:column>

            <p:column headerText="Addtional Premium per year">
                <h:outputText value="#{rider.riderPremiumValue}" />
            </p:column>
        </p:dataTable>

        <p:dataTable id="productFeatures" widgetVar="productFeatures" value="#{viewProductDetailManagedBean.productToView.productEntity.listOfAdditionalFeatures}" var="features" rowKey="#{features.featureId}" rowIndexVar="rowIndex">
            <p:column headerText="No" sortBy="#{rowIndex}" filterBy="#{rowIndex}" filterMatchMode="contains">
                <h:outputText value="#{rowIndex+1}" />
            </p:column>

            <p:column headerText="Name">
                <h:outputText value="#{features.featureName}" />
            </p:column>                            

            <p:column headerText="Description">
                <h:outputText value="#{features.featureDescription}" />
            </p:column>

        </p:dataTable>

        <h2>Affordability Table</h2>
        <p:dataTable>

        </p:dataTable>

        <ezcomp:InterestRateNotice id="ccInterestRateNotice"/>
    </ui:define>



</ui:composition>
