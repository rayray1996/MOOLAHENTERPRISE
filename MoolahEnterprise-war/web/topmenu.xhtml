<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui">

    <style>
        .ui-growl {
            right:20%;
        }
        #loggedinDisplay .ui-menubutton .ui-button{
            margin-top: 10%
        }
    </style>

    <header>

        <h:link class="companyLogo" style="float:left; " outcome="/index.xhtml" >
            <p:graphicImage library="images" name="c1_logo.png" height="50" width="20" alt="Moolah" style="width:130%; height:15%; margin-top:-31%; margin-left:18%;" />
        </h:link>
        <h:panelGroup rendered="#{sessionScope.isLogin == false || sessionScope.isLogin == NULL}">
            <h:form id="loginForm">

                <p:growl>
                    <p:autoUpdate />
                </p:growl>
                <p:megaMenu orientation="horizontal" autoDisplay="false" style="height:5%; width:60%; margin-left:18%; margin-top:3%;font-size:14px;">

                    <p:menuitem value="Home" outcome="/index.xhtml"/>
                    <p:menuitem value="About Us" outcome="/aboutUs.xhtml"/>
                    <p:menuitem value="Create Account" outcome="/createAccount.xhtml"/>


                </p:megaMenu>


                <div style="float:right; width:18%;font-size:14px;margin-top:-6%;margin-right:0%;" >
                    <p:outputLabel for="email" value="Email" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <p:inputText id="email" value="#{moolahLoginManagedBean.email}" size="16" required="true" requiredMessage="Email is required" maxlength="32">
                        <f:validateLength minimum="4" />
                    </p:inputText>
                    <br/>
                    <br/>
                    <p:outputLabel for="password" value="Password" />&nbsp;
                    <p:password id="password" value="#{moolahLoginManagedBean.password}" size="16" required="true" requiredMessage="Password is required" maxlength="32">
                        <f:validateLength minimum="4" />
                    </p:password>
                    <br/>
                    <br/>
                    <p:link type="reset" value="Forget Password" outcome="/resetPassword.xhtml" />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    <p:commandButton type="submit" value="Login" actionListener="#{moolahLoginManagedBean.login}"/>

                </div>
            </h:form>
        </h:panelGroup>

        <h:panelGroup rendered="#{sessionScope.isLogin == true}">
            <h:form id="logoutForm">


                <p:megaMenu orientation="horizontal" autoDisplay="false" style="height:5%; width:60%; margin-left:18%; margin-top:3%;font-size:14px;">

                    <p:menuitem value="Home" outcome="/index.xhtml"/>
                    <p:menuitem value="About Us" outcome="/aboutUs.xhtml"/> 
                    <p:submenu label="Products">
                        <p:column>
                            <p:submenu label="Products">
                                <p:menuitem value="Recommend For Me" outcome="/product/ViewRecommendedProduct.xhtml" />
                                <p:menuitem value="Search for products " url="#" /></p:submenu>
                        </p:column>
                    </p:submenu>
                    <p:menuitem value="Financial Calculator" outcome="/financialCalculator_home.xhtml"/>


                </p:megaMenu>


                <div id = "loggedinDisplay" style="width:19%; float:right;margin-top:-4%;font-size:14px;;">
                    <h:outputText value="You are login as #{sessionScope.customerEntity.fullName}" />&nbsp;

                    <p:menuButton value ="My Account">
                        <p:menuitem value="View My Profile" outcome="/myProfile.xhtml"/>
                        <p:menuitem value="My Saved Comparisons"/>
                        <p:menuitem value="My Liked Products"/>
                        <p:menuitem value="Logout" actionListener="#{moolahLoginManagedBean.logout}" />
                    </p:menuButton>

                </div>

            </h:form>


        </h:panelGroup>
    </header>
</ui:composition>

